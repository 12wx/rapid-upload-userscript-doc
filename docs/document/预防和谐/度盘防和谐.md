# 如何预防和谐

由于旧版脚本 1.6.7 版本中的 修复下载 功能 已在 21 年 4 月上旬失效(官方封杀), 目前已经没有任何硬性的反和谐\*手段, 只能通过以往总结的一些软性手段实现防和谐.

\* **和谐** 定义为 文件无法下载, 下载提示 **包含违规... / 下载失败1252017**

此文档用于记录已知的度盘和谐机制及解决方法, 可尽量分享给有需要的人.

## 双层压缩

使用任意压缩格式将原压缩包再压缩一次, 经过测试发现可以有效防和谐, 双层压缩的压缩包在线解压后只有内层压缩包会被和谐, 而外层压缩不会被和谐(验证过程见下文).

\* 文件 "**被和谐**" 仅定义为**无法下载**, ≠ 无法分享

PS: 提供一个一键批量双层压缩的工具 (使用秒传转存):

```plain :no-line-numbers
f2c3e6a533c9fc4e78293d082bbd5274#9804e9c75762a21f971ad8e9bc5ed576#15352276#auto_double_zip 批量双层压缩工具 v1.0.1.zip
```

\*工具源码: [项目主页](https://github.com/mengzonefire/auto_double_zip)

### 双压防和谐的对照验证过程

1 组: 直接上传已和谐的视频文件 -> 文件和谐(无法下载)

2 组: 将视频文件压缩为 无加密zip -> 上传 -> 分享 -> 在线解压 -> 压缩包被和谐(无法下载)

3 组: 将 2 组的 zip 文件再压缩一次(无加密zip) -> 上传 -> 分享 -> 在线解压 -> 解压出来的内层 zip 被和谐, 但原压缩包未和谐.

\*测试时间 2021.6.7, 使用度盘 PC 客户端测试

综上可知双层压缩(任意压缩格式, 甚至无加密zip) 可有效防止在线解压导致的文件和谐, 猜测原理为在线解压只扫描压缩包内的媒体文件而不扫描其他文件(例如压缩文件).

但手动举报导致的和谐目前还是无解.

## 已失效

原压缩方法: 固实压缩+加密文件名 已无法防止在线解压, 也无法再防和谐, 目前有效方法请参考 [**双层压缩**](#双层压缩):
